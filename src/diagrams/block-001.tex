\clearpage
\section*{\currfilename}

\begin{figure}[H]
  \fontsize{14pt}{14pt}\selectfont
  \begin{center}
    \begin{tikzpicture}[auto, scale=0.5, every node/.style={transform shape}, node distance=0.1cm, >=latex']
      \node[input](input1){};
      \node[gainblockright,right of=input1, node distance=3.0cm, minimum height=0.1cm, minimum width=1.0cm] (block1) {$\Theta_{q_{\text{cmd}}}$};
      \node[whitesum,right of=block1, node distance=2.5cm] (sum1) {};
      \node[squareblock, minimum height=1cm, minimum width=2cm, right of=sum1,node distance=2.5cm] (block2) {\shortstack{Short \\ Period}};
      \node[output, right of=block2,node distance=2.5cm] (output1) {};
      \node[output, right of=output1,node distance=1.0cm] (output2) {};
      \node[output, right of=output2,node distance=1.0cm] (output3) {};
      \node[gainblockleft, above of=block2,node distance=2.0cm, minimum width=1.0cm](block3){\rotatebox{180}{$\Theta_{\alpha}$}};
      \node[gainblockleft, above of=block3,node distance=2.0cm, minimum width=1.0cm](block4){\rotatebox{180}{$\Theta_{q}$}};
      \node[squareblock, minimum height=1cm, minimum width=2cm, left of=input1,node distance=1.5cm] (block5) {\shortstack{Guidance \\ Controller}};
      \node[whitesum,left of=block5, node distance=2.0cm] (sum2) {};
      \node[input,left of=sum2, node distance=3.0cm] (input2) {};
      %\node[squareblock, minimum height=1cm, minimum width=1.0cm, right of=output3,node distance=1.0cm] (block6) {$\frac{1}{s}$};
      \node[output, right of=output3,node distance=0.0cm] (output4) {};
      \node[output, right of=output4,node distance=2.0cm] (output5) {};
      \node[input, below of=block4,node distance=2.5cm] (input3) {};
      %\draw[->](input1) -- node[pos=0.4]{$q_{\text{cmd}}$} (block1);
      \draw[->](block1) -- (sum1);
      \draw[->](sum1) -- node[pos=0.5]{$\delta_{e}$}(block2);
      %\draw[vecArrow](block2) -- node[pos=0.5]{$q$}(block6);
      \draw[->](output1) |- (block3);
      \draw[->](output2) |- (block4);
      \draw[->](block3) -| (sum1);
      \draw[->](block4) -| (sum1);
      \draw[->](input2) -- node[pos=0.2]{$h_{\text{cmd}}$} (sum2);
      \draw[->](sum2) -- (block5);
      \draw[->](block5) -- node[pos=0.3]{$q_{\text{cmd}}$} (block1);
      \draw[-](output4) |- (input3);
      \draw[->](input3) -| node[pos=0.98]{$-$} (sum2);
      \draw[vecArrow](block2) -- node[pos=1.0]{$h$} (output5);

      % Dotted line around
      \begin{pgfonlayer}{background}
      \path (sum2 |- sum2)+(-1.5,1.7) node (c) {};
      \path (output5 -| output5)+(-1.0,-7.2) node (d) {};
      \path[fill=gray!20,draw, dashed] (c) rectangle (d);
      \end{pgfonlayer}

      % Dotted line around short period
      \begin{pgfonlayer}{background}
      \path (block1 |- block1)+(-1.5,1.2) node (c) {};
      \path (block4 -| block4)+(4.0,-1.2) node (d) {};
      \path[fill=gray!40,draw, dashed] (c) rectangle (d);
      \end{pgfonlayer}

      % Adaptive Arrow
      \coordinate (arrow1) at ([xshift=-1.0cm,yshift=-1.0cm] block1);
      \coordinate (arrow2) at (block1.225);
      \coordinate (arrow3) at (block1.45);
      \coordinate (arrow4) at ([xshift=1.0cm,yshift=1.0cm] block1);
      \draw[-](arrow1) -- (arrow2);
      \draw[->](arrow3) -- (arrow4);

      % Adaptive Arrow
      \coordinate (arrow1) at ([xshift=-1.0cm,yshift=-1.0cm] block3);
      \coordinate (arrow2) at (block3.225);
      \coordinate (arrow3) at (block3.45);
      \coordinate (arrow4) at ([xshift=1.0cm,yshift=1.0cm] block3);
      \draw[-](arrow1) -- (arrow2);
      \draw[->](arrow3) -- (arrow4);

      % Adaptive Arrow
      \coordinate (arrow1) at ([xshift=-1.0cm,yshift=-1.0cm] block4);
      \coordinate (arrow2) at (block4.225);
      \coordinate (arrow3) at (block4.45);
      \coordinate (arrow4) at ([xshift=1.0cm,yshift=1.0cm] block4);
      \draw[-](arrow1) -- (arrow2);
      \draw[->](arrow3) -- (arrow4);

      % Adaptive Arrow
      %\coordinate (arrow1) at ([xshift=-1.0cm,yshift=-1.0cm] block5);
      %\coordinate (arrow2) at (block5.225);
      %\coordinate (arrow3) at (block5.45);
      %\coordinate (arrow4) at ([xshift=1.0cm,yshift=1.0cm] block5);
      %\draw[-](arrow1) -- (arrow2);
      %\draw[->](arrow3) -- (arrow4);

      \node[gainblockleft, above of=block2,node distance=2.0cm, minimum width=1.0cm](block3){\rotatebox{180}{$\Theta_{\alpha}$}};
      \node[gainblockleft, above of=block3,node distance=2.0cm, minimum width=1.0cm](block4){\rotatebox{180}{$\Theta_{q}$}};
    \end{tikzpicture}
  \end{center}
\end{figure}
